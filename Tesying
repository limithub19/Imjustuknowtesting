-- Load the Spawner library
local Spawner = loadstring(game:HttpGet("https://codeberg.org/GrowAFilipino/GrowAGarden/raw/branch/main/Spawner.lua"))()

-- Get all pets from the Spawner
local petList = Spawner.GetPets()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Create GUI
local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
gui.Name = "PetViewerUI"
gui.ResetOnSpawn = false

-- Toggle Button
local toggleBtn = Instance.new("TextButton", gui)
toggleBtn.Size = UDim2.new(0, 100, 0, 40)
toggleBtn.Position = UDim2.new(0, 10, 0, 10)
toggleBtn.Text = "ðŸ§¸ Pets"
toggleBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.TextScaled = true
toggleBtn.Font = Enum.Font.GothamBold

-- Main Frame
local mainFrame = Instance.new("Frame", gui)
mainFrame.Size = UDim2.new(0, 300, 0, 350)
mainFrame.Position = UDim2.new(0, 120, 0, 60)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.Visible = false
mainFrame.Active = true
mainFrame.Draggable = true

local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0, 30)
title.Position = UDim2.new(0, 0, 0, 0)
title.Text = "ðŸŽ® Select Player"
title.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
title.TextColor3 = Color3.new(1, 1, 1)
title.TextScaled = true
title.Font = Enum.Font.GothamBold

-- Player List
local playerList = Instance.new("ScrollingFrame", mainFrame)
playerList.Size = UDim2.new(1, 0, 0.5, -15)
playerList.Position = UDim2.new(0, 0, 0, 35)
playerList.CanvasSize = UDim2.new(0, 0, 0, 0)
playerList.ScrollBarThickness = 6
playerList.BackgroundColor3 = Color3.fromRGB(40, 40, 40)

-- Pet List
local petListFrame = Instance.new("ScrollingFrame", mainFrame)
petListFrame.Size = UDim2.new(1, 0, 0.5, -15)
petListFrame.Position = UDim2.new(0, 0, 0.5, 25)
petListFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
petListFrame.ScrollBarThickness = 6
petListFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)

local selectedPlayer = nil

-- Add player buttons
local function refreshPlayers()
	playerList:ClearAllChildren()
	local y = 0
	for _, p in ipairs(Players:GetPlayers()) do
		local btn = Instance.new("TextButton", playerList)
		btn.Size = UDim2.new(1, 0, 0, 30)
		btn.Position = UDim2.new(0, 0, 0, y)
		btn.Text = p.Name
		btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
		btn.TextColor3 = Color3.new(1, 1, 1)
		btn.TextScaled = true
		btn.Font = Enum.Font.Gotham

		btn.MouseButton1Click:Connect(function()
			selectedPlayer = p
		end)
		y = y + 32
	end
	playerList.CanvasSize = UDim2.new(0, 0, 0, y)
end

-- Add pet buttons
local function createPetButtons()
	local y = 0
	for _, pet in ipairs(petList) do
		local btn = Instance.new("TextButton", petListFrame)
		btn.Size = UDim2.new(1, 0, 0, 30)
		btn.Position = UDim2.new(0, 0, 0, y)
		btn.Text = pet
		btn.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
		btn.TextColor3 = Color3.new(1, 1, 1)
		btn.TextScaled = true
		btn.Font = Enum.Font.Gotham

		btn.MouseButton1Click:Connect(function()
			if selectedPlayer then
				local character = selectedPlayer.Character
				if character then
					local pos = character:FindFirstChild("HumanoidRootPart")
					if pos then
						Spawner.SpawnPet(pet, math.random(1, 5), math.random(1, 5))
					end
				end
			end
		end)
		y = y + 32
	end
	petListFrame.CanvasSize = UDim2.new(0, 0, 0, y)
end

-- Toggle UI
toggleBtn.MouseButton1Click:Connect(function()
	mainFrame.Visible = not mainFrame.Visible
end)

-- Setup
refreshPlayers()
createPetButtons()
